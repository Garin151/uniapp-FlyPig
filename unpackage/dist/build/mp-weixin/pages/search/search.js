(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/search"],{"0a72":function(t,a,e){"use strict";e.r(a);var n=e("773d"),s=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);a["default"]=s.a},"149d":function(t,a,e){"use strict";e.r(a);var n=e("c647"),s=e("0a72");for(var o in s)"default"!==o&&function(t){e.d(a,t,(function(){return s[t]}))}(o);e("8554");var r,i=e("f0c5"),c=Object(i["a"])(s["default"],n["b"],n["c"],!1,null,"17598d10",null,!1,n["a"],r);a["default"]=c.exports},3968:function(t,a,e){"use strict";(function(t){e("144c"),e("921b");n(e("66fd"));var a=n(e("149d"));function n(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("543d")["createPage"])},"773d":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(){e.e("components/HM-messages").then(function(){return resolve(e("c6d4"))}.bind(null,e)).catch(e.oe)},s={name:"Page_search",data:function(){return{ifhistory:!1,setdata:[],searchdata:"",localdata:[],nonedataShow:!1,isShow:!1}},components:{HMmessages:n},created:function(){var t="SearchHistory";this.GetSearchCash(t)},methods:{seArch:function(){if(""!=this.searchdata){this.ifhistory=!1,this.isShow=!1;var t="SearchHistory";this.SetSearchCash(t,this.searchdata),this.SearchData(this.searchdata)}else this.HMmessages.show("搜索不能为空",{icon:"error",iconColor:"#ffffff",fontColor:"#ffffff",background:"rgba(102,0,51,1)"})},onKeyInput:function(){if(""!=this.searchdata){this.ifhistory=!1,this.isShow=!1;var t="SearchHistory";this.SetSearchCash(t,this.searchdata),this.SearchData(this.searchdata)}else this.HMmessages.show("搜索不能为空",{icon:"error",iconColor:"#ffffff",fontColor:"#ffffff",background:"rgba(102,0,51,1)"})},SetSearchCash:function(a,e){var n=t.getStorageSync(a)||[];n.unshift(e),t.setStorageSync(a,n)},GetSearchCash:function(a){var e=t.getStorageSync(a),n=Array.from(new Set(e));""==n?this.ifhistory=!1:(this.setdata=n,this.ifhistory=!0)},deleteSearchCash:function(){t.removeStorageSync("SearchHistory"),this.ifhistory=!1},SearchData:function(t){var a=this,e=wx.cloud.database(),n=e.collection("SQL-UserData");n.where({tipsdata:e.RegExp({regexp:t,options:"m"})}).get().then((function(t){a.isShow=!0,0==t.data.length?(a.nonedataShow=!0,a.localdata=""):(a.nonedataShow=!1,a.localdata=t.data)})).catch((function(t){console.log(t)}))},CashSearch:function(t){this.ifhistory=!1,this.searchdata=t,this.SearchData(t)},localCont:function(a){t.navigateTo({url:"../detail/detail?id="+a})}},watch:{searchdata:function(t,a){if(""==t){var e="SearchHistory";this.GetSearchCash(e),this.isShow=!1,this.ifhistory=!0,this.nonedataShow=!1,this.localdata=""}}}};a.default=s}).call(this,e("543d")["default"])},"79ee":function(t,a,e){},8554:function(t,a,e){"use strict";var n=e("79ee"),s=e.n(n);s.a},c647:function(t,a,e){"use strict";var n,s=function(){var t=this,a=t.$createElement;t._self._c;t._isMounted||(t.e0=function(a){t.HMmessages=t.$refs.HMmessages})},o=[];e.d(a,"b",(function(){return s})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return n}))}},[["3968","common/runtime","common/vendor"]]]);