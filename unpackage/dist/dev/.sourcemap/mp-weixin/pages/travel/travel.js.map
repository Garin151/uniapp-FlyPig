{"version":3,"sources":["webpack:///E:/HBuilderX Projects/AliTravel/main.js","webpack:///E:/HBuilderX Projects/AliTravel/pages/travel/travel.vue?7519","webpack:///E:/HBuilderX Projects/AliTravel/pages/travel/travel.vue?b5c8","webpack:///E:/HBuilderX Projects/AliTravel/pages/travel/travel.vue?30b3","webpack:///E:/HBuilderX Projects/AliTravel/pages/travel/travel.vue?54cb","webpack:///E:/HBuilderX Projects/AliTravel/pages/travel/travel.vue","webpack:///E:/HBuilderX Projects/AliTravel/pages/travel/travel.vue?d151","webpack:///E:/HBuilderX Projects/AliTravel/pages/travel/travel.vue?ff75"],"names":["createPage","Page","until","require","db","wx","cloud","database","SQL_UserData","collection","name","created","addRess","citydata","address","$store","commit","onShow","value","components","HMmessages","cpn_modal","data","num","fication","uploadShow","chooseTab","titledata","tipsdata","topimg","videos","avatarUrl","nickName","openid","reldata","relend","methods","menubtn","index","uploadImg","uni","chooseImage","count","sizeType","sourceType","success","res","push","tempFilePaths","deleteImg","splice","preImage","then","catch","err","console","log","uploadVideo","chooseVideo","compressed","maxDuration","tempFilePath","deleteVideo","result","ad_info","city","chooseCity","navigateTo","url","suBmitd","show","icon","iconColor","fontColor","background","UserInfo","SQL_User","get","length","$nextTick","$refs","mon","modal_init","usermen","uploadUserData","upImage","upLoadImage","upVideo","upLoadVideo","upLoadText","refreshPage","upFile_ID","okArray","Promise","resolve","reject","forEach","img","imgion","lastIndexOf","eximg","slice","cloudpath","Date","now","Math","floor","random","uploadFile","cloudPath","filePath","fileID","videoion","exvideo","cloudpath_02","finalImage","finalVideo","datas","creatTime","formatTime","add","setTimeout","switchTab","computed","valueChange_02","store_city_02"],"mappings":"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","file":"pages/travel/travel.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/travel/travel.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./travel.vue?vue&type=template&id=39c50d2f&scoped=true&\"\nvar renderjs\nimport script from \"./travel.vue?vue&type=script&lang=js&\"\nexport * from \"./travel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./travel.vue?vue&type=style&index=0&id=39c50d2f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39c50d2f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/HBuilderX Projects/AliTravel/pages/travel/travel.vue\"\nexport default component.exports","export * from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travel.vue?vue&type=template&id=39c50d2f&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.HMmessages = _vm.$refs.HMmessages\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travel.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport {mapState} from \"vuex\"\r\nimport {previewImage} from \"../../common/preview_image.js\"\r\nimport {addressData} from \"../../common/Located.js\"\r\nimport {HMmessages} from \"../../components/HM-messages.vue\"\r\nimport {cpn_modal} from \"../../components/modal.vue\"\r\nlet until = require(\"../../common/until.js\")\r\n//let time = until.formatTime(new Date())\r\nlet db = wx.cloud.database()\r\nlet SQL_UserData = db.collection(\"SQL-UserData\")\r\nexport default {\r\n\tname: 'travel',\r\n\t//生命周期函数\r\n\tcreated() {\r\n\t\tthis.addRess()\r\n\t\tlet citydata = this.address\r\n\t\tthis.$store.commit(\"travelmuta\",citydata)\r\n\t},\r\n\t\r\n\tonShow() {\r\n\t\tlet value = false\r\n\t\tthis.$store.commit(\"refreshMuta\",value)\r\n\t},\r\n\t\r\n\t//生命周期函数\r\n\t\r\n\t//自定义组件和插件\r\n\tcomponents: {\r\n\t\tHMmessages,\r\n\t\tcpn_modal\r\n\t},\r\n\t\r\n\t\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnum:0,\r\n\t\t\tfication: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '景点'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '美食'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '网红打卡'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tuploadShow:false,\r\n\t\t\tchooseTab:\"景点\",\r\n\t\t\ttitledata:\"\",\r\n\t\t\ttipsdata:\"\",\r\n\t\t\ttopimg:[],\r\n\t\t\tvideos:\"\",\r\n\t\t\taddress:\"\",\r\n\t\t\tavatarUrl:\"\",\r\n\t\t\tnickName:\"\",\r\n\t\t\topenid:\"\",\r\n\t\t\treldata:\"正在发布...\",\r\n\t\t\trelend:false\r\n\t\t};\r\n\t},\r\n\tmethods:{\r\n\t\tmenubtn(index,name) {\r\n\t\t\tthis.num = index\r\n\t\t\t//console.log(name)\r\n\t\t\tthis.chooseTab = name\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tuploadImg() {\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount:9,\r\n\t\t\t\tsizeType:['original', 'compressed'],\r\n\t\t\t\tsourceType:['album'],\r\n\t\t\t\tsuccess:res =>{\r\n\t\t\t\t\t//console.log(res.tempFilePaths)\r\n\t\t\t\t\tthis.topimg.push(...res.tempFilePaths)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tdeleteImg(index) {\r\n\t\t\t//console.log(index)\r\n\t\t\tthis.topimg.splice(index,1)\t\r\n\t\t},\r\n\t\t\r\n\t\tpreImage(index) {\r\n\t\t\t//console.log(index)\r\n\t\t\tpreviewImage(index,this.topimg)\r\n\t\t\t.then(res =>{\r\n\t\t\t\t//console.log(\"预览成功\")\r\n\t\t\t}).catch(err =>{\r\n\t\t\t\tconsole.log(\"预览失败\")\r\n\t\t\t})\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\tuploadVideo() {\r\n\t\t\tuni.chooseVideo({\r\n\t\t\t\tcount:1,\r\n\t\t\t\tcompressed:false,\r\n\t\t\t\tsourceType: [\"album\"],\r\n\t\t\t\tmaxDuration:40,\r\n\t\t\t}).then(res =>{\r\n\t\t\t\t//console.log(res)\r\n\t\t\t\tthis.videos = res[1].tempFilePath\r\n\t\t\t\tthis.uploadShow = true\r\n\t\t\t}).catch(err =>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tdeleteVideo() {\r\n\t\t\tthis.videos = \"\",\r\n\t\t\tthis.uploadShow = false\r\n\t\t},\r\n\t\t\r\n\t\taddRess() {\r\n\t\t\taddressData().then(res =>{\r\n\t\t\t\t//console.log(res)\r\n\t\t\t\tthis.address = res.result.ad_info.city\r\n\t\t\t}).catch(err =>{\r\n\t\t\t\t//console.log(err)\r\n\t\t\t\tthis.address = \"桂林市\"\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tchooseCity() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl:\"../city/city\"\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tsuBmitd() {\r\n\t\t\t//console.log(this.topimg)\r\n\t\t\tif(this.titledata == \"\"){\r\n\t\t\t\tthis.HMmessages.show('标题必填',{icon:\"error\",iconColor:\"#ffffff\",fontColor:\"#ffffff\",background:\"rgba(238,64,0,1)\"})\r\n\t\t\t}else if(this.tipsdata == \"\"){\r\n\t\t\t\tthis.HMmessages.show('描述必填',{icon:\"error\",iconColor:\"#ffffff\",fontColor:\"#ffffff\",background:\"rgba(238,64,0,1)\"})\r\n\t\t\t}else{\r\n\t\t\t\t//判断用户登录状态\r\n\t\t\t\tthis.UserInfo()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tUserInfo() {\r\n\t\t\tlet db = wx.cloud.database()\r\n\t\t\tlet SQL_User = db.collection(\"SQL-User\")\r\n\t\t\tSQL_User.get()\r\n\t\t\t.then(res =>{\r\n\t\t\t\t//console.log(res)\r\n\t\t\t\tif(res.data.length == 0){\r\n\t\t\t\t\tthis.$nextTick(() =>{\r\n\t\t\t\t\t\tthis.$refs.mon.modal_init()\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//console.log(\"已经登录\")\r\n\t\t\t\t\tlet usermen = res.data[0]\r\n\t\t\t\t\tthis.avatarUrl = usermen.avatarUrl\r\n\t\t\t\t\tthis.nickName = usermen.nickName\r\n\t\t\t\t\tthis.openid = usermen.openid\r\n\t\t\t\t\t//上传用户发表的数据\r\n\t\t\t\t\tthis.relend = true\r\n\t\t\t\t\tthis.uploadUserData()\r\n\t\t\t\t}\r\n\t\t\t}).catch(err =>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tasync uploadUserData() {\r\n\t\t\tlet upLoadImage = await this.upImage()\r\n\t\t\t//console.log(upLoadImage)\r\n\t\t\tlet upLoadVideo = await this.upVideo()\r\n\t\t\t//console.log(upLoadVideo)\r\n\t\t\tawait this.upLoadText(upLoadImage,upLoadVideo)\r\n\t\t\tawait this.refreshPage()\r\n\t\t},\r\n\t\t\r\n\t\tupImage() {\r\n\t\t\tlet upFile_ID = []\r\n\t\t\tlet okArray = []\r\n\t\t\tconsole.log(\"开始上传图片\")\r\n\t\t\treturn new Promise((resolve,reject) =>{\r\n\t\t\t\tif(this.topimg.length == 0){\r\n\t\t\t\t\t//判断用户是否要上传图片\r\n\t\t\t\t\tconsole.log(\"用户不上传图片\")\r\n\t\t\t\t\tresolve(\"\")\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.topimg.forEach((img) =>{\r\n\t\t\t\t\t\t//console.log(img)\r\n\t\t\t\t\t\t//拼接上传的名字字符串\r\n\t\t\t\t\t\tlet imgion = img.lastIndexOf(\".\")\r\n\t\t\t\t\t\tlet eximg = img.slice(imgion)\r\n\t\t\t\t\t\tlet cloudpath = `${Date.now()}-${Math.floor(Math.random(0,1) * 10000000)}${eximg}`\r\n\t\t\t\t\t\tupFile_ID.push(\"cloud://test-01-nkmqa.7465-test-01-nkmqa-1300405154/\"+\"static/\" + cloudpath)\r\n\t\t\t\t\t\twx.cloud.uploadFile({\r\n\t\t\t\t\t\t\tcloudPath:\"static/\" + cloudpath,\r\n\t\t\t\t\t\t\tfilePath:img\r\n\t\t\t\t\t\t}).then(res =>{\r\n\t\t\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\t\t//避免resolve的异步，返回不正确的数据\r\n\t\t\t\t\t\t\tokArray.push(res.fileID)\r\n\t\t\t\t\t\t\tif(okArray.length == this.topimg.length){\r\n\t\t\t\t\t\t\t\tresolve(upFile_ID)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log(\"上传图片成功\")\r\n\t\t\t\t\t\t}).catch(err =>{\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tupVideo() {\r\n\t\t\tconsole.log(\"开始上传视频\")\r\n\t\t\treturn new Promise((resolve,reject) =>{\r\n\t\t\t\t//判断用户是否要上传视频\r\n\t\t\t\tif(this.videos == \"\"){\r\n\t\t\t\t\tconsole.log(\"用户不上传视频\")\r\n\t\t\t\t\tresolve(\"\")\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet videoion = this.videos.lastIndexOf(\".\")\r\n\t\t\t\t\tlet exvideo = this.videos.slice(videoion)\r\n\t\t\t\t\tlet cloudpath_02 = `${Date.now()}-${Math.floor(Math.random(0,1) * 10000000)}${exvideo}`\r\n\t\t\t\t\twx.cloud.uploadFile({\r\n\t\t\t\t\t\tcloudPath:\"video/\" + cloudpath_02,\r\n\t\t\t\t\t\tfilePath: this.videos\r\n\t\t\t\t\t}).then(res =>{\r\n\t\t\t\t\t\tresolve(res.fileID)\r\n\t\t\t\t\t\tconsole.log(\"上传视频成功\")\r\n\t\t\t\t\t}).catch(err =>{\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tupLoadText(finalImage,finalVideo) {\r\n\t\t\tconsole.log(\"开始上传数据库\")\r\n\t\t\tlet datas = {\r\n\t\t\t\tchooseTab:this.chooseTab,\r\n\t\t\t\ttitledata:this.titledata,\r\n\t\t\t\ttipsdata:this.tipsdata,\r\n\t\t\t\ttopimg:finalImage,\r\n\t\t\t\tvideos:finalVideo,\r\n\t\t\t\taddress:this.address,\r\n\t\t\t\tavatarUrl:this.avatarUrl,\r\n\t\t\t\tnickName:this.nickName,\r\n\t\t\t\topenid:this.openid,\r\n\t\t\t\tcreatTime:until.formatTime(new Date())\r\n\t\t\t}\r\n\t\t\tSQL_UserData.add({\r\n\t\t\t\tdata:datas\r\n\t\t\t}).then(res =>{\r\n\t\t\t\tconsole.log(\"上传数据库成功\")\r\n\t\t\t\t//console.log(res)\r\n\t\t\t\tthis.reldata = \"发布成功!\"\r\n\t\t\t\tsetTimeout(() =>{\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl:\"../strategy/strategy\"\r\n\t\t\t\t\t})\r\n\t\t\t\t},1700)\r\n\t\t\t}).catch(err =>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t//用户发表成功后，自动刷新数据\r\n\t\trefreshPage() {\r\n\t\t\tlet value = true\r\n\t\t\tthis.$store.commit(\"refreshMuta\",value)\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\t//计算属性\r\n\tcomputed:{\r\n\t\t...mapState([\"store_city_02\"]),\r\n\t\tvalueChange_02() {\r\n\t\t\tthis.address = this.store_city_02\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\t\r\n};\r\n","import mod from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travel.vue?vue&type=style&index=0&id=39c50d2f&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./travel.vue?vue&type=style&index=0&id=39c50d2f&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588593482438\n      var cssReload = require(\"D:/HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}